# 第二讲：数据结构

## 数据结构接口基础

### 数据结构的概念
- 数据结构是存储数据的方式，并提供支持数据操作的算法
- 接口(Interface)是对支持操作的规范说明
  - 接口定义了"做什么"(问题)
  - 数据结构实现了"怎么做"(解决方案)

### 两种主要接口类型

#### 1. 序列接口(Sequence Interface)
- 维护项目的外在顺序
- 操作类型：
  - 容器操作：build(X), len()
  - 静态操作：
    - iter_seq(): 按序返回所有项目
    - get_at(i): 获取第i个项目 
    - set_at(i,x): 替换第i个项目
  - 动态操作：
    - insert/delete_at(i): 在第i个位置插入/删除
    - insert/delete_first(): 在开头插入/删除
    - insert/delete_last(): 在末尾插入/删除
- 特殊接口：
  - 栈(Stack)：仅支持末尾插入和删除
  - 队列(Queue)：支持末尾插入和开头删除

#### 2. 集合接口(Set Interface)
- 维护项目的内在顺序(基于键)
- 操作类型：
  - 容器操作：build(X), len()
  - 静态操作：find(k)查找键为k的项目
  - 动态操作：insert(x)插入、delete(k)删除
  - 顺序操作：按键顺序遍历、查找最小/最大/前驱/后继

## 数据结构实现比较

### 1. 数组序列(Array Sequence)
- 静态操作效率高：get_at(i)和set_at(i,x)是Θ(1)
- 动态操作需要重新分配空间和移动元素，效率低Θ(n)

### 2. 链表序列(Linked List Sequence)
- 动态操作在开头高效：insert_first和delete_first是Θ(1)
- 随机访问效率低：get_at(i)和set_at(i,x)是O(n)

### 3. 动态数组序列(Dynamic Array Sequence)
- 综合了数组和链表的优点
- 关键思想：预分配额外空间
- 填充率(r)维护：0 ≤ r ≤ 1
- 平摊分析：单次操作可能是Θ(n)，但平均是Θ(1)
- Python列表就是动态数组的实现

### 平摊分析
- 分析技术：将操作代价分摊到多次操作上
- 平摊代价T(n)：k次操作总代价≤kT(n)
- 动态数组插入的平摊时间是Θ(1)

## 时间复杂度总结表

操作类型 | 数组 | 链表 | 动态数组
---------|------|------|----------
build(X) | Θ(n) | Θ(n) | Θ(n)
get_at(i) | Θ(1) | Θ(n) | Θ(1)
insert_first | Θ(n) | Θ(1) | Θ(n)
insert_last | Θ(n) | Θ(n) | Θ(1)平摊
delete_first | Θ(n) | Θ(1) | Θ(n)
delete_last | Θ(n) | Θ(n) | Θ(1)平摊
